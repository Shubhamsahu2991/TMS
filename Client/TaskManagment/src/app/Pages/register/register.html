<!-- Modern Register Page - Single View Design -->
<div class="min-h-screen flex bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50">
    <!-- Left: Landing Info -->
    <div
        class="hidden lg:flex w-1/2 bg-gradient-to-br from-emerald-500 via-teal-500 to-blue-500 items-center justify-center">
        <div class="text-white px-8">
            <h1 class="text-4xl font-bold mb-4 drop-shadow-lg">Join Task Management System</h1>
            <p class="mb-6 text-lg opacity-90">Create your account and start organizing your tasks, projects, and boost your productivity.</p>
            <a routerLink="/"
                class="inline-block bg-white/90 text-emerald-600 px-6 py-2.5 rounded-lg shadow-lg hover:bg-white font-semibold transition-all duration-200">
                Go to Home
            </a>
        </div>
    </div>
    
    <!-- Right: Register Form -->
    <div class="flex w-full lg:w-1/2 items-center justify-center p-4">
        <div class="w-full max-w-lg p-8 rounded-2xl shadow-lg bg-white/95 backdrop-blur-sm border border-slate-200">
            <h2 class="text-2xl font-bold mb-6 text-slate-800 text-center">Create your account</h2>
            
            <form [formGroup]="registerForm" (ngSubmit)="register()" class="space-y-4">
                <!-- Name and Email Row -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- Full Name -->
                    <div>
                        <label class="block text-slate-700 mb-1.5 font-medium text-sm" for="fullName">Full Name</label>
                        <input formControlName="fullName"
                            (input)="clearError(); clearSuccess()"
                            class="w-full px-3 py-2.5 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 bg-white transition-all duration-200 text-sm"
                            type="text" id="fullName" placeholder="Enter full name" />
                        <div *ngIf="registerForm.get('fullName')?.touched && registerForm.get('fullName')?.invalid" 
                             class="text-red-500 text-xs mt-1">
                            {{ getErrorMessage('fullName') }}
                        </div>
                    </div>

                    <!-- Email -->
                    <div>
                        <label class="block text-slate-700 mb-1.5 font-medium text-sm" for="email">Email</label>
                        <input formControlName="email"
                            (input)="clearError(); clearSuccess()"
                            class="w-full px-3 py-2.5 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 bg-white transition-all duration-200 text-sm"
                            type="email" id="email" placeholder="Enter email" />
                        <div *ngIf="registerForm.get('email')?.touched && registerForm.get('email')?.invalid" 
                             class="text-red-500 text-xs mt-1">
                            {{ getErrorMessage('email') }}
                        </div>
                    </div>
                </div>

                <!-- Password and Confirm Password Row -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- Password -->
                    <div>
                        <label class="block text-slate-700 mb-1.5 font-medium text-sm" for="password">Password</label>
                        <input formControlName="password"
                            (input)="clearError(); clearSuccess()"
                            class="w-full px-3 py-2.5 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 bg-white transition-all duration-200 text-sm"
                            type="password" id="password" placeholder="Enter password" />
                        <div *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.invalid" 
                             class="text-red-500 text-xs mt-1">
                            {{ getErrorMessage('password') }}
                        </div>
                    </div>

                    <!-- Confirm Password -->
                    <div>
                        <label class="block text-slate-700 mb-1.5 font-medium text-sm" for="confirmPassword">Confirm Password</label>
                        <input formControlName="confirmPassword"
                            (input)="clearError(); clearSuccess()"
                            class="w-full px-3 py-2.5 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 bg-white transition-all duration-200 text-sm"
                            type="password" id="confirmPassword" placeholder="Confirm password" />
                        <div *ngIf="registerForm.get('confirmPassword')?.touched && registerForm.get('confirmPassword')?.invalid" 
                             class="text-red-500 text-xs mt-1">
                            {{ getErrorMessage('confirmPassword') }}
                        </div>
                    </div>
              

                <!-- Role Dropdown -->
                <div>
                    <label class="block text-slate-700 mb-1.5 font-medium text-sm" for="role">Role</label>
                    <select formControlName="role"
                        (change)="clearError(); clearSuccess()"
                        class="w-full px-3 py-2.5 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 bg-white transition-all duration-200 text-sm">
                        <option value="">Select your role</option>
                        <option *ngFor="let role of roles" [value]="role.value">{{ role.label }}</option>
                    </select>
                    <div *ngIf="registerForm.get('role')?.touched && registerForm.get('role')?.invalid" 
                         class="text-red-500 text-xs mt-1">
                        {{ getErrorMessage('role') }}
                    </div>
                </div>
                <div>
                        <label class="block text-slate-700 mb-1.5 font-medium text-sm" for="employeeId">Employee Id</label>
                        <input formControlName="employeeId"
                            (input)="clearError(); clearSuccess()"
                            class="w-full px-3 py-2.5 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 bg-white transition-all duration-200 text-sm"
                            type="text" id="employeeId" placeholder="Enter email" />
                        <div *ngIf="registerForm.get('employeeId')?.touched && registerForm.get('employeeId')?.invalid" 
                             class="text-red-500 text-xs mt-1">
                            {{ getErrorMessage('employeeId') }}
                        </div>
                    </div>
  </div>
                <!-- Error Message -->
                <div *ngIf="errorMessage" class="text-red-500 text-sm bg-red-50 p-3 rounded-lg border border-red-200">
                    {{ errorMessage }}
                </div>

                <!-- Success Message -->
                <div *ngIf="successMessage" class="text-emerald-600 text-sm bg-emerald-50 p-3 rounded-lg border border-emerald-200">
                    {{ successMessage }}
                </div>

                <!-- Register Button -->
                <button type="submit"
                    [disabled]="isLoading"
                    class="w-full bg-gradient-to-r from-emerald-500 to-teal-500 text-white py-3 rounded-lg shadow-md hover:from-emerald-600 hover:to-teal-600 transition-all duration-200 font-semibold text-base disabled:opacity-50 disabled:cursor-not-allowed">
                    <span *ngIf="!isLoading">Create Account</span>
                    <span *ngIf="isLoading">Creating Account...</span>
                </button>
            </form>

            <p class="mt-6 text-center text-slate-600 text-sm">Already have an account? 
                <a routerLink="/login" class="text-emerald-600 hover:text-emerald-700 font-semibold transition-colors">
                    Sign in
                </a>
            </p>
        </div>
    </div>
</div> 