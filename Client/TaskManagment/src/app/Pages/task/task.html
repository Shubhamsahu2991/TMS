<!-- Add Task Modal -->
<div class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50">
  <div class="bg-white max-w-6xl w-full mx-4 rounded-2xl shadow-xl p-6 overflow-y-auto max-h-[90vh] relative">
    <button (click)="closeModal()"
      class="absolute top-3 right-4 text-gray-600 text-3xl hover:text-red-500 font-bold">&times;
    </button>
    <h2 class="text-2xl font-bold text-indigo-700 mb-4">Add Task</h2>
     <form [formGroup]="taskForm" (ngSubmit)="onsubmit()" class="flex flex-row flex-wrap gap-6 items-end">
  <!-- Project -->
  <div class="flex flex-col flex-1 min-w-[200px]">
    <label class="font-medium mb-1 text-gray-800 block">Project Name</label>
    <select formControlName="projectId"  

      class="w-full px-3 py-2 border border-gray-300 rounded-lg text-base bg-gray-50 focus:border-blue-600 focus:bg-white focus:outline-none">
      <option [ngValue]="null">-- Select Project --</option>
      <option *ngFor="let proj of projectDropdownList" [ngValue]="proj.projectId">{{ proj.projectName }}</option>
    </select>
  </div>

  <!-- Module -->
  <div class="flex flex-col flex-1 min-w-[200px]">
    <label class="font-medium mb-1 text-gray-800 block">Select Module</label>
   <select formControlName="moduleId"  

      class="w-full px-3 py-2 border border-gray-300 rounded-lg text-base bg-gray-50 focus:border-blue-600 focus:bg-white focus:outline-none">
      <option [ngValue]="null">-- Select Module --</option>
      <option *ngFor="let m of modules" [ngValue]="m.value">{{ m.label }}</option>
    </select>
  </div>

  <!-- Assign To -->
  <div class="flex flex-col flex-1 min-w-[200px]">
    <label class="font-medium mb-1 text-gray-800 block">Assign to</label>
    <select formControlName="AssignedTo"
      class="block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm">
      <option [ngValue]="null" disabled>-- Select employee --</option>
      <option *ngFor="let user of filteredUsers" [ngValue]="user.localId">( {{ user.username }} ) {{ user.fullName }}</option>
    </select>
  </div>

  <!-- Start Date -->
  <div class="flex flex-col flex-1 min-w-[200px]">
    <label class="font-medium mb-1 text-gray-800 block">Start Date</label>
    <input type="date" formControlName="AssignedDate"
      class="w-full px-3 py-2 border border-gray-300 rounded-lg text-base bg-gray-50 focus:border-blue-600 focus:bg-white focus:outline-none" />
  </div>

  <!-- Due Date -->
  <div class="flex flex-col flex-1 min-w-[200px]">
    <label class="font-medium mb-1 text-gray-800 block">Due Date</label>
    <input type="date" formControlName="DueDate"
      class="w-full px-3 py-2 border border-gray-300 rounded-lg text-base bg-gray-50 focus:border-blue-600 focus:bg-white focus:outline-none" />
  </div>

  <!-- Status -->
  <div class="flex flex-col flex-1 min-w-[200px]">
    <label class="font-medium mb-1 text-gray-800 block">Status</label>
    <select formControlName="statusId"
      class="w-full px-3 py-2 border border-gray-300 rounded-lg text-base bg-gray-50 focus:border-blue-600 focus:bg-white focus:outline-none">
      <option *ngFor="let s of StatusList" [ngValue]="s.id">{{ s.name }}</option>
    </select>
  </div>

  <!-- Priority -->
  <div class="flex flex-col flex-1 min-w-[200px]">
    <label class="font-medium mb-1 text-gray-800 block">Priority</label>
    <select formControlName="priorityId"
      class="w-full px-3 py-2 border border-gray-300 rounded-lg text-base bg-gray-50 focus:border-blue-600 focus:bg-white focus:outline-none">
      <option *ngFor="let p of prioritiesList" [ngValue]="p.priorityId">{{ p.priorityName }}</option>
    </select>
  </div>

  <!-- Title -->
  <div class="flex flex-col flex-1 min-w-[100%]">
    <label class="font-medium mb-1 text-gray-800 block">Title</label>
    <textarea rows="1" formControlName="title"
      class="w-full px-3 py-2 border border-gray-300 rounded-lg text-base bg-gray-50 focus:border-blue-600 focus:bg-white focus:outline-none"></textarea>
  </div>

  <!-- Description -->
  <div class="flex flex-col flex-1 min-w-[100%]">
    <label class="font-medium mb-1 text-gray-800 block">Description</label>
    <textarea rows="4" formControlName="description"
      class="w-full px-3 py-2 border border-gray-300 rounded-lg text-base bg-gray-50 focus:border-blue-600 focus:bg-white focus:outline-none"></textarea>
  </div>

  <!-- Submit Button -->
  <div class="w-full flex justify-center mt-6">
    <button type="submit"
      class="bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white font-semibold py-2 px-10 rounded-full shadow-xl hover:shadow-2xl hover:from-indigo-600 hover:to-pink-600 transition-all duration-300 ease-in-out transform hover:scale-105">
      Submit
    </button>
  </div>
</form>

  </div>
</div>